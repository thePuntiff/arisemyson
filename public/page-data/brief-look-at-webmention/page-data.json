{"componentChunkName":"component---src-templates-blog-post-template-js","path":"/brief-look-at-webmention/","result":{"data":{"site":{"siteMetadata":{"title":"arise my son","author":{"name":"arise my son"}}},"markdownRemark":{"id":"d0b46fa8-807d-5576-8577-3cf5e3cfe83f","excerpt":"I’ve been looking for the perfect commenting solution for my blog in the\nlast few weeks. After trialing various solutions to no avail, I…","html":"<p>I’ve been looking for the perfect commenting solution for my blog in the\nlast few weeks. After trialing various solutions to no avail, I stumbled\ninto the world of IndieWeb and in particular Webmention. This is a two\npart series, in the first I will go in to some details on what\nwebmention is, how it works and what some benefits you may get over and\nabove existing solutions. In the second I will go into how I went about\nimplementing it.</p>\n<h3 id=\"why-existing-solutions-didnt-work\" style=\"position:relative;\">Why existing solutions didn’t work?<a href=\"#why-existing-solutions-didnt-work\" aria-label=\"why existing solutions didnt work permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>First, I want to talk about how existing solutions like\n<a href=\"https://disqus.com/\">disqus</a>,\n<a href=\"https://posativ.org/isso/\">isso</a>,\n<a href=\"https://utteranc.es/\">utterance</a>,\n<a href=\"https://commento.io/\">commento</a> and many others didn’t quite fit what I\nneeded.</p>\n<h4 id=\"1-privacy\" style=\"position:relative;\">1. Privacy<a href=\"#1-privacy\" aria-label=\"1 privacy permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>One of the most popular commenting solution out there is Disqus and it\nis usually the first solution people recommend due to how complete it\nis. But then how can disqus provide such a service and all of its\nfeatures for free? There is a famous saying “if you’re not paying for\nthe product, you are the product”, this holds true there. While Disqus\ndo have a paid tier, their revenue model is predominately ads and\nanalytics. So would be a no from me, as I wanted to respect the privacy\nof all visitors on my website, the same reason why you won’t find Google\nAnalytics on my website.</p>\n<h4 id=\"2-entry-barrier-for-interacting\" style=\"position:relative;\">2. Entry Barrier for Interacting<a href=\"#2-entry-barrier-for-interacting\" aria-label=\"2 entry barrier for interacting permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Many solutions require the reader to sign in before interacting such as\na medium account before giving a clap to a medium article. Solutions\nlike staticman and utterance require a github account for users to leave\na comment. These “barriers” creates friction and its not something I\nwant for a niche blog like mine. Social login such as google, facebook\nand twitter are more widely available since most people would have at\nleast one of the above and they are supported on many of the commenting\nsolutions out there. But since privacy is a concern of mine, facebook\nand google logins are out. Twitter is somewhat more acceptable amongst\nthe tech community.</p>\n<h4 id=\"3-ease-of-setup\" style=\"position:relative;\">3. Ease of setup<a href=\"#3-ease-of-setup\" aria-label=\"3 ease of setup permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Isso and Commento are popular alternatives to Disqus, they are super\nlightweight and respects your privacy and data. However they do require\nmanual setup and a server to run on since they are self-hosted\nsolutions. Since I’ve only just decommission all my servers, spinning up\nanother is not something I would like to entertain. Having said that if\nyou are already running your own server the two optioned mentioned here\nare great options.</p>\n<h4 id=\"4-cost\" style=\"position:relative;\">4. Cost<a href=\"#4-cost\" aria-label=\"4 cost permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Cost, it all comes down to money at the end of the day. While I would\nlove to pay for it and support the developers on those projects, I find\nit super difficult to justify it for my low traffic personal website\nwhether it be hosting it on my own server or paying $5 a month for a\ncommenting service like commento.</p>\n<h4 id=\"5-theme\" style=\"position:relative;\">5. Theme<a href=\"#5-theme\" aria-label=\"5 theme permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Last area of consideration is theming. I’ve decided to implement a theme\nswitcher on the website, which means the comment section needs to be\nswitch themes. From all of the solutions I’ve tested none of them\nblended into my website’s stylesheet natively without heavily reliant on\nsome javascript magic to manipulate the dom and add in the style or\nclasses. This is due to how majority of them injects an iframe into the\npage after the page has loaded.</p>\n<h3 id=\"webmention\" style=\"position:relative;\">Webmention<a href=\"#webmention\" aria-label=\"webmention permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>The idea haas been around for some time check out the\n<a href=\"https://www.w3.org/TR/webmention/\">W3C spec</a>, I personally have not\nheard of it until I eventually stumbled upon webmention from\n<a href=\"https://www.swyx.io/writing/clientside-webmentions/\">swyx</a> and\nsubsequently\n<a href=\"https://mxb.dev/blog/using-webmentions-on-static-sites/\">Max Bock</a>.\nTheir implementations really grabbed my attention so I decided to dive\nfurther.</p>\n<p>Let’s start with a little overview webmention, directly from the\n<a href=\"https://indieweb.org/webmention\">IndieWeb wiki</a>.</p>\n<blockquote>\n<p>Webmention is a web standard for mentions and conversations across the\nweb, a powerful building block that is used for a growing federated\nnetwork of comments, likes, reposts, and other rich interactions\nacross the decentralized social web.</p>\n</blockquote>\n<p>This means, no single service owns the data and your interactions are\nstored on various services waiting to be aggregated such as twitter,\nmastodon and any other blogs/websites. If you are reading this article\nthen you may have noticed my webmention implementation already, if not\nthen here is a screenshot of it in action!</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/117147788ed8c2a222dd3356fe10b302/090d4/webmention.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 89.1891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAAClklEQVQ4y4VUy27TQBT1r5Sv6FewQnxG/wG1XSNBxapUgEBC4VEW7QIQlBWCTYAWFVISmqRx7Hji+DHjt8eHOxOSuiUpI13NjMY69557zrXx+XuGy6uqqvlePy/7rr6M5k8JHji4c3cLjUYDSZJcAKuDplmGsevBnfjgIvonqQb8ciLx+NE2NjY2sba2hmazuTS7WmVZauBSysWAh+0KN29cx8rKNayuruLg4EA/cCHQ7Q/Qav/GmWnp6HT78PzgasqtM+Dt6z2sr2/i/s4OTNPUD1EUYeL5GLExrBGD7YwxolCJqjKDpAov91qFcdQpFja7IFqC+pTlBfU1RUb3mPY4iZHHjGjnCwUzjk8VYAU2KRCK8m+mOfSSwELhdIWtHgFmFvrDEKbtU0W5/jhOKgyZhDWWsCnGvqR7SecSPavEJJhRvugE49eZRCR8OIyRJVxNT60sK8CjDAFPIaKcElVEU4VEQpEXdaBKlauZGZ2BRJoKMPKXw1xtCV1hmsILhe5bEHKyi8T/F1E+HZaIY46h7UxV5Fw/vdvbxdOtTew2HuLN3kvsPn+G/Sf38Gr7Nh7cvoXDj+/x9dMH/Dj6hv39F2ifHE4p92xJaobaFsomURzrhwlzwPotmP1TMHsAbzICMzsweyfoto8hfEruM71bwy5EyKaAA6eivgmYlqM9NxNFUj8Cwg5pEkWcE/UMUZpfTVipbJKSRZEi5BGFQEGjVe8JQc/tUlVSG3pm6lnU78ZwPG2261ckxDmUzxMwL6fqKgRC0lmSMDM1l4dhu1NA5TMenSuZZAqs1HZJyC48rhu+TvPSLDveOaCq5qo/TV7k2lZJWugEUi6YZTeYAipayrjLRmo6PTm8IIQfcNrjuTfrBfwB6fNjvVUNM2oAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"webmention on hbish\"\n        title=\"\"\n        src=\"/static/117147788ed8c2a222dd3356fe10b302/3546d/webmention.png\"\n        srcset=\"/static/117147788ed8c2a222dd3356fe10b302/ee7bb/webmention.png 148w,\n/static/117147788ed8c2a222dd3356fe10b302/6e79a/webmention.png 295w,\n/static/117147788ed8c2a222dd3356fe10b302/3546d/webmention.png 590w,\n/static/117147788ed8c2a222dd3356fe10b302/6456d/webmention.png 885w,\n/static/117147788ed8c2a222dd3356fe10b302/5130a/webmention.png 1180w,\n/static/117147788ed8c2a222dd3356fe10b302/090d4/webmention.png 1480w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n     <em>webmention on hbish.com</em></p>\n<p>For my website, I have “claps” which gets fetched directly from twitter.\nAny tweets with my blog links on it that receives likes will show up\nhere because my website implements webmention protocol.</p>\n<p>The recent mentions section shows who has liked the post and comments.\nBecause of the federated nature of webmention, comments can also come\nfrom multiple sources. In my case, “mentions” are a combination of\ntwitter replies and direct comments hosted off on another service called\n<a href=\"https://commentpara.de/\">comment parade</a> which allows no signup\ncomments! Another benefit of webmention is that traditional pingbacks\nfrom other websites can also be converted into webmention and displayed\nas mention.</p>\n<p>Obviously implementing it yourself takes time but you get much more\nflexibility in terms of:</p>\n<ul>\n<li>source the reactions - twitter, where I spend most of my time online</li>\n<li>theming - my recent comments fits right into all four of my website\ntheme options.</li>\n<li>cost - free as in beer!</li>\n</ul>\n<h3 id=\"great-how-can-i-go-about-implementing-it\" style=\"position:relative;\">Great! How can I go about implementing it?<a href=\"#great-how-can-i-go-about-implementing-it\" aria-label=\"great how can i go about implementing it permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>One thing to note before you start implementing webmention is that you\ncan fetch the mentions at build time or during runtime (via the client).\nBoth approaches have tradeoffs, it worth understanding them before\ndiving in the deep end and implementing your own.</p>\n<p>If you have a high traffic website and you want the page to load quickly\nthen you can opt for a build-time approach. The obvious tradeoff here is\nthat your webmentions will only be updated whenever you publish an\nupdate. If you want your webmentions to be updated more often, then you\nwould have to trigger your builds more regularly. This can be achieved\nin a few different ways, either by a schedule or a webhook that triggers\na build whenever a interaction or mention is observed. Those approach\noffers a good trade off between performance and freshness of your\nwebmention.</p>\n<p>The other approach is to fetch the webmentions at run-time on the\nclient. This adds additional overhead to your website, as it needs to\nmake more http calls. What you do get with the additional performance\nhit is that your website’s mentions will always receive the latest\ninteractions. This may be acceptable on a lower traffic websites like\nmine.</p>\n<p>So hopefully by now, you have a good understanding of webmention and\nsome of the advantages it brings. In part 2, I will be going through how\nI have implemented webmention, along with lots of resources so you can\nget started too! Stay Tuned (I promise it won’t be a 2 year wait like my\nGatsby post).</p>","timeToRead":5,"frontmatter":{"title":"A Brief Look at WebMention","date":"May 25, 2020","categories":null,"tags":["programming","webmention","web technology"]},"fields":{"slug":"/brief-look-at-webmention/"}}},"pageContext":{"slug":"/brief-look-at-webmention/","previous":{"fields":{"slug":"/covid-life-update/"},"frontmatter":{"title":"COVID Life Update","type":"post","url":"/covid-life-update/"}},"next":{"fields":{"slug":"/deleting-old-tweets/"},"frontmatter":{"title":"Deleting Old Tweets","type":"post","url":"/deleting-old-tweets/"}}}},"staticQueryHashes":["1272777910","2240159121","2581348398"]}